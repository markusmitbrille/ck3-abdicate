# Abdicate decision
abd_abdicate = {
	desc = abd_abdicate_desc
	picture = "gfx/interface/illustrations/decisions/decision_destiny_goal.dds"

    major = no

	is_shown = {
        exists = player_heir
        player_heir = {
			age >= 18
            is_close_family_of = prev
        }
	}

	is_valid = {
	}

	is_valid_showing_failures_only = {
		is_imprisoned = no
		is_available_adult = yes
		is_at_war = no
	}

	widget = {
		gui = decision_view_widget_generic_multichoice_with_effects
		controller = decision_option_list_controller
		decision_to_second_step_button = abd_abdicate_choose_method	
		#show_from_start = yes
		
		# duel
		item = {
			value = abd_abdicate_choose_duel
			
			current_description = abd_abdicate_choose_duel_desc
			localization = abd_abdicate_choose_duel_name
			icon = "gfx/interface/icons/icon_prowess.dds"

			is_valid = {
				government_has_flag = government_is_tribal
			}
		}

		# corule
		item = {
			value = abd_abdicate_choose_corule
			
			current_description = abd_abdicate_choose_corule_desc
			localization = abd_abdicate_choose_corule_name
			icon = "gfx/interface/icons/message_feed/law.dds"

			is_valid = {
				NOT = { government_has_flag = government_is_tribal }
			}
		}
		
		# exile
		item = {
			value = abd_abdicate_choose_exile
			
			current_description = abd_abdicate_choose_exile_desc
			localization = abd_abdicate_choose_exile_name
			icon = "gfx/interface/icons/message_feed/money.dds"
		}
	}

	effect = {
		custom_tooltip = abd_abdicate_tooltip

		if = {
			limit = { scope:abd_abdicate_choose_duel = yes }
			trigger_event = abd.0001
		}
		if = {
			limit = { scope:abd_abdicate_choose_corule = yes }
			trigger_event = abd.0004
		}
		if = {
			limit = { scope:abd_abdicate_choose_exile = yes }
			trigger_event = abd.0005
		}
	}

	cost = {
		prestige = {
			value = massive_prestige_value
		}
	}

	ai_check_interval = 0

	ai_potential = {
		always = no
	}

	ai_will_do = {
		base = 0
	}
}
